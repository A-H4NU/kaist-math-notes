\documentclass[../modern_algebra.tex]{subfiles}

\begin{document}

\section{Fundamental Theorem of Finitely Generated Abelian Groups}

\mlemma[yCZHSevK]{}{
    Let \(G\) be an abelian group generated by \(g_1, \cdots, g_k\).
    For any nonnegative integers \(c_1, c_2, \cdots, c_k\)
    with \(\gcd(c_1, \cdots, c_k) = 1\),
    there exists generators \(x_1, \cdots, x_k\) for \(G\)
    such that \(x_1 = c_1 g_1 + \cdots + c_kg_k\).
}
\pf{Proof}{
    We conduct the induction on \(S \coloneqq c_1 + \cdots + c_k\).
    If \(S = 1\), then simply changing the order suffices.

    If \(S > 1\), then there exist at least two nonzero \(c_i\).
    \WLOG, \(c_1 \ge c_2 > 0\). As
    \begin{enumerate}[nolistsep, label=(\roman*), ref=\protect{(\roman*)}, listparindent=\parindent]
        \ii \(g_1, g_1 + g_2, g_3, g_4, \cdots, g_k\) generate \(G\),
        \ii \(\gcd(c_1 - c_2, c_2, \cdots, c_k) = 1\), and
        \ii \((c_1 - c_2) + c_2 + \cdots, c_k < S\),
    \end{enumerate}
    by induction hypothesis, there exist generators \(x_1, \cdots, x_k\)
    such that \(x_1 = (c_1 - c_2)g_1 + c_2 (g_1 + g_2) + c_3 g_3 + \cdots c_k g_k\).
    The result follows from \((c_1 - c_2)g_1 + c_2 (g_1 + g_2) = c_1 g_1 + c_2 g_2\).
}

\dfn[basis]{Basis of Group}{
    Let \(G\) be a group.
    Then, \(\{\,g_1, g_2, \cdots, g_k\,\} \subseteq G\) is a \textit{basis} of \(G\)
    if \(G = \lang\,g_1, \cdots, g_k\,\rang\)
    and \[
        \fall m_1, \cdots, m_k \in \ZZ,\:
        (m_1g_1 + \cdots + m_k g_k = 0 \iff m_1 g_1 = \cdots = m_k g_k = 0).
    \]
}

\mlemma[fgagHasBasis]{}{
    If \(G\) is a \hyperref[dfn:generator]{finitely generated} abelian group,
    then \(G\) has a basis.
}
\pf{Proof}{
    Let \(g_1, g_2, \cdots, g_k\) be generators of \(G\) with minimum \(|g_1|\)
    among generators with minimum size.
    We shall conduct induction on \(k\).
    If \(k = 1\), then \(G\) is cycle; \(\{g_1\}\) is a basis.
    Assume \(k > 1\).

    \WLOG, \(|g_1| \le |g_2| \le \cdots \le |g_k|\).
    Note that \(g_2, \cdots, g_k\) are minimal generators of \(\lang\,g_2, \cdots, g_k\,\rang\).
    Hence, by induction hypothesis,
    \(\lang\,g_2, \cdots, g_k\,\rang\) has a basis \(\{\,h_1, \cdots, h_{k-1}\,\}\).
    Note that \(\lang\,g_1, h_1, \cdots, h_{k-1}\,\rang = G\).

    Suppose \(\{\,g_1, h_1, \cdots, h_{k-1}\,\}\) is not a basis of \(G\) for the sake of contradiction.
    Then, there exist \(n_1, m_1, \cdots, m_{k-1} \in \ZZ\)
    such that \(n_1g_1 + m_1h_1 + \cdots + m_{k-1} h_{k-1} = 0\) but \(n_1g_1 \neq 0\).
    Possibly replacing \(g_1\) with \(-g_1\) and \(h_i\) with \(-h_i\),
    \WLOG, \(0 < n_1 < |g_1|\) and \(m_i \ge 0\) for all \(i \in [k - 1]\).

    Let \(d \triangleq \gcd(n_1, m_1, \cdots, m_{k-1})\)
    and let \(c_0 \triangleq n_1 / d\) and \(c_i \triangleq m_i / d\) for each \(i \in [k-1]\).
    By \Cref{lem:yCZHSevK},
    there exist generators \(x_1, \cdots, x_k\) of \(G\)
    such that \(x_1 = c_0 g_1 + c_1 h_1 + \cdots + c_{k-1} h_{k-1}\).
    Then, as \(dx_1 = 0\), we have \(|x_1| \le d \le n_1 < |g_1|\),
    which contradicts the minimality of initial choice of \(g_1, g_2, \cdots, g_k\).
    Therefore, \(\{\,g_1, h_1, \cdots, h_{k-1}\,\}\) is a basis of \(G\).
}

\mlemma[]{}{
    Let \(G\) be a finitely generated abelian group.
    If \(\{\,g_1, \cdots, g_k\,\}\) is a basis of \(G\),
    then \(G \cong \lang g_1 \rang \times \cdots \times \lang g_k \rang\).
}
\pf{Proof}{
    As \(G\) is abelian, \(\lang g_i \rang \nsub G\) for all \(i \in [k]\).
    Assume
    \[
        m_1g_1 + m_2g_2 + \cdots + m_kg_k =
        n_1g_1 + n_2g_2 + \cdots + n_kg_k
    \]
    for some \(m_i, n_i \in \ZZ\).
    Then, we have \((m_1-n_1)g_1 + \cdots + (m_k-n_k) g_k = 0\);
    as \(\{\,g_1, \cdots, g_k\,\}\) is a a basis,
    \(m_ig_i = n_ig_i\) for all \(i \in [k]\).
    Therefore, by \Cref{th:bijectiveProdIso},
    \(G \cong \lang g_1 \rang \times \cdots \times \lang g_k \rang\).
}

\mlemma[ZpMultiUnique]{}{
    Let \(p\) be a prime number. If
    \[
        \ZZ_{p^{u_1}} \times \cdots \times \ZZ_{p^{u_r}}
        \cong \ZZ_{p^{v_1}} \times \cdots \times \ZZ_{p^{v_s}},
    \]
    for some integers \(u_1 \ge \cdots \ge u_r \ge 1\)
    and \(v_1 \ge \cdots \ge v_{s} \ge 1\),
    then \(r = s\) and \(u_i = v_i\) for each \(i \in [r]\).
}
\pf{Proof}{
    \WLOG, \(u_1 \ge v_1\)
    Note that
    \[
        p^n \ZZ_{p^m} \cong \begin{cases}
            \ZZ_{p^{m-n}} & \text{if}~n \le m \\
            \{1\} & \text{otherwise}
        \end{cases}
    \]
    for each \(m, n \in \ZZ_{\ge 0}\).
    Therefore, we have
    \[
        \ZZ_{p^{u_1 - v_1}} \cong p^{v_1} \bigl(\ZZ_{p^{u_1}} \times \cdots \times \ZZ_{p^{u_r}}\bigr)
        \cong p^{v_1} \bigl(\ZZ_{p^{v_1}} \times \cdots \times \ZZ_{p^{v_s}}\bigr)
        \cong \{1\},
    \]
    which implies \(u_1 = v_1\).
    We continue this process of multiplying \(p^{\min\{u_i, v_i\}}\)
    for \(i = 2, 3, \cdots, \min \{r, s\}\) so we obtain the result.
}

\thm[FTFGAG]{Fundamental Theorem of Finitely Generated Abelian Group}{
    If \(G\) is a \hyperref[dfn:generator]{finitely generated} abelian group,
    then
    \[
        G \cong \ZZ^r \times \underbrace{\big(\ZZ_{p_1^{\beta_{1,1}}} \times \cdots \times \ZZ_{p_1^{\beta_{1,k_1}}}\big)
        \times \cdots \times \big(\ZZ_{p_t^{\beta_{t,1}}} \times \cdots \times \ZZ_{p_t^{\beta_{t,k_t}}}\big)}_{\textit{torsion part}}
    \]
    for some \(r \in \ZZ_{\ge 0}\), \(\beta_{i, j} \ge 1\),
    distinct primes \(p_1, \cdots, p_t\), and \(\beta_{i, j} \ge \beta_{i, j'}\) if \(j \ge j'\).
    Furthermore, the expression is unique.
    \(r\) is the expression is called the \textit{rank} of \(G\).
}
\pf{Proof}{
    Let \(\{\,g_1, \cdots, g_k\,\}\) be a basis of \(G\).
    Then, \(G \cong \lang g_1 \rang \times \cdots \times \lang g_k \rang\) by \Cref{lem:fgagHasBasis}.
    By \Cref{cor:cycleClassify},
    \(G \cong \ZZ^r \times \ZZ_{n_1} \times \cdots \times \ZZ_{n_s}\) where \(r \ge 0\) and \(n_i \ge 2\).
    The existence of such expression in the theorem is given by
    \Cref{exmp:prodCycleIffGCD}.

    To prove the uniqueness of the rank, suppose
    \[
        G \cong \ZZ^r \times \ZZ_{n_1} \times \cdots \times \ZZ_{n_s}
        \cong \ZZ^{r'} \times \ZZ_{n'_1} \times \cdots \times \ZZ_{n'_{s'}}
    \]
    for some \(r' \in \ZZ_{\ge 0}\) and \(n'_i \ge 2\).
    Let \(p\) be a prime number which is greater than any of \(n_1, \cdots, n_s, n'_1, \cdots, n'_{s'}\).
    Then,
    \[
        p\ZZ_{n_i} = \ZZ_{n_i}~\text{and}~p\ZZ_{n'_i} = \ZZ_{n'_i}~\text{for each}~i
    \]
    so
    \[
        pG \nsub G~\text{and}~G/pG \cong (\ZZ_p)^r \cong (\ZZ_p)^{r'}.
    \]
    Therefore, \(r = r'\) by \Cref{lem:ZpMultiUnique}.

    Moreover, we have
    \[
        G/\ZZ^r \cong \ZZ_{n_1} \times \cdots \times \ZZ_{n_s}
        \cong \ZZ_{n'_1} \times \cdots \times \ZZ_{n'_{s'}}.
    \]
    Therefore, the uniqueness follows from \Cref{exmp:prodCycleIffGCD,lem:ZpMultiUnique}.
}

\thm[FTFAG]{Fundamental Theorem of Finite Abelian Group}{
    Let \(G\) be a finite abelian group.
    \begin{enumerate}[nolistsep, label=(\roman*), ref=\protect{(\roman*)}, listparindent=\parindent]
        \ii
        If the prime factorization of \(|G|\) is given by \(|G| = p_1^{r_1} \cdots p_t^{r_t}\),
        then
        \[G \cong \big(\ZZ_{p_1^{\beta_{1,1}}} \times \cdots \times \ZZ_{p_1^{\beta_{1,k_1}}}\big)
        \times \cdots \times \big(\ZZ_{p_t^{\beta_{t,1}}} \times \cdots \times \ZZ_{p_t^{\beta_{t,k_t}}}\big)\]
        for some \(\beta_{i,j} \ge 1\) where \(\beta_{i, j} \ge \beta_{i, j'}\) if \(j \ge j'\)
        and \(\beta_{i,1} + \cdots + \beta_{i, k_i} = r_i\).
        \(p_i^{\beta_{i,j}}\)'s are called \textit{elementary divisors of \(G\)}.

        \ii
        For some \(m_1, \cdots, m_s \in \ZZ_{>1}\) such that \(m_1m_2\cdots m_s = |G|\)
        and \(m_s \mid \cdots \mid m_2 \mid m_1\),
        \[G \cong \ZZ_{m_1} \times \ZZ_{m_2} \times \cdots \times \ZZ_{m_s}.\]
        \(m_i\)'s are called \textit{invariant factors of \(G\)}.
    \end{enumerate}
    Moreover, the representations in (i) and (ii) are unique.
}
\mclm{Proof}{\hfill
\begin{enumerate}[nolistsep, label=(\roman*), listparindent=\parindent]
    \ii
    A direct consequence of \nameref{th:FTFGAG}.

    \ii
    It is equivalent to (i) by \Cref{exmp:prodCycleIffGCD,lem:ZpMultiUnique}.
    \qed
\end{enumerate}
}

\end{document}
